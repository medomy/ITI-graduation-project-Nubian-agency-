{"ast":null,"code":"import _asyncToGenerator from \"/home/dev/Development/src/Nubian-Agancy/Client-Side/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip } from 'ng2-charts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/products/products.service\";\nimport * as i2 from \"ng2-charts\";\nexport class PieChartComponent {\n  constructor(productService) {\n    var _this = this;\n\n    this.productService = productService;\n    this.pieChartOptions = {\n      responsive: true\n    };\n    this.pieChartLabels = ['Total Product', 'Total Rate'];\n    this.pieChartData = [];\n    this.pieChartType = 'pie';\n    this.pieChartLegend = true;\n    this.pieChartPlugins = [];\n    this.productService.getProducts().subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (data) {\n        console.log('prd', data);\n        let totalRate = 0;\n        data.forEach(item => {\n          if (item.rate) {\n            totalRate++;\n          }\n\n          _this.pieChartData = [data.length, totalRate];\n        });\n        monkeyPatchChartJsTooltip();\n        monkeyPatchChartJsLegend();\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  ngOnInit() {}\n\n}\n\nPieChartComponent.ɵfac = function PieChartComponent_Factory(t) {\n  return new (t || PieChartComponent)(i0.ɵɵdirectiveInject(i1.ProductsService));\n};\n\nPieChartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PieChartComponent,\n  selectors: [[\"app-pie-chart\"]],\n  decls: 2,\n  vars: 6,\n  consts: [[1, \"chart-wrapper\"], [\"baseChart\", \"\", 3, \"data\", \"labels\", \"chartType\", \"options\", \"plugins\", \"legend\"]],\n  template: function PieChartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"canvas\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"data\", ctx.pieChartData)(\"labels\", ctx.pieChartLabels)(\"chartType\", ctx.pieChartType)(\"options\", ctx.pieChartOptions)(\"plugins\", ctx.pieChartPlugins)(\"legend\", ctx.pieChartLegend);\n    }\n  },\n  directives: [i2.BaseChartDirective],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwaWUtY2hhcnQuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["/home/dev/Development/src/Nubian-Agancy/Client-Side/dashboard/src/app/components/charts/pie-chart/pie-chart.component.ts"],"names":["monkeyPatchChartJsLegend","monkeyPatchChartJsTooltip","i0","i1","i2","PieChartComponent","constructor","productService","pieChartOptions","responsive","pieChartLabels","pieChartData","pieChartType","pieChartLegend","pieChartPlugins","getProducts","subscribe","data","console","log","totalRate","forEach","item","rate","length","ngOnInit","ɵfac","PieChartComponent_Factory","t","ɵɵdirectiveInject","ProductsService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","PieChartComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","directives","BaseChartDirective","styles"],"mappings":"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","sourcesContent":["import { monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip, } from 'ng2-charts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/products/products.service\";\nimport * as i2 from \"ng2-charts\";\nexport class PieChartComponent {\n    constructor(productService) {\n        this.productService = productService;\n        this.pieChartOptions = {\n            responsive: true,\n        };\n        this.pieChartLabels = ['Total Product', 'Total Rate'];\n        this.pieChartData = [];\n        this.pieChartType = 'pie';\n        this.pieChartLegend = true;\n        this.pieChartPlugins = [];\n        this.productService.getProducts().subscribe(async (data) => {\n            console.log('prd', data);\n            let totalRate = 0;\n            data.forEach((item) => {\n                if (item.rate) {\n                    totalRate++;\n                }\n                this.pieChartData = [data.length, totalRate];\n            });\n            monkeyPatchChartJsTooltip();\n            monkeyPatchChartJsLegend();\n        });\n    }\n    ngOnInit() { }\n}\nPieChartComponent.ɵfac = function PieChartComponent_Factory(t) { return new (t || PieChartComponent)(i0.ɵɵdirectiveInject(i1.ProductsService)); };\nPieChartComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PieChartComponent, selectors: [[\"app-pie-chart\"]], decls: 2, vars: 6, consts: [[1, \"chart-wrapper\"], [\"baseChart\", \"\", 3, \"data\", \"labels\", \"chartType\", \"options\", \"plugins\", \"legend\"]], template: function PieChartComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"canvas\", 1);\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"data\", ctx.pieChartData)(\"labels\", ctx.pieChartLabels)(\"chartType\", ctx.pieChartType)(\"options\", ctx.pieChartOptions)(\"plugins\", ctx.pieChartPlugins)(\"legend\", ctx.pieChartLegend);\n    } }, directives: [i2.BaseChartDirective], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwaWUtY2hhcnQuY29tcG9uZW50LmNzcyJ9 */\"] });\n"]},"metadata":{},"sourceType":"module"}