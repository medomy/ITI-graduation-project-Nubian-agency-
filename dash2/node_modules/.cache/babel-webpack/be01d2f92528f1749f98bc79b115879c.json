{"ast":null,"code":"import _asyncToGenerator from \"/home/dev/Development/src/Nubian-Agancy/Client-Side/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip } from 'ng2-charts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/products/products.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"ng2-charts\";\nimport * as i4 from \"../../../shared/loading/loading.component\";\n\nfunction PieChartComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"canvas\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"data\", ctx_r0.pieChartData)(\"labels\", ctx_r0.pieChartLabels)(\"chartType\", ctx_r0.pieChartType)(\"options\", ctx_r0.pieChartOptions)(\"plugins\", ctx_r0.pieChartPlugins)(\"legend\", ctx_r0.pieChartLegend)(\"colors\", ctx_r0.chartColors);\n  }\n}\n\nfunction PieChartComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\");\n  }\n}\n\nexport class PieChartComponent {\n  constructor(productService) {\n    var _this = this;\n\n    this.productService = productService;\n    this.pieChartOptions = {\n      responsive: true\n    };\n    this.pieChartLabels = ['Total Product', 'Total Rate'];\n    this.pieChartData = [];\n    this.pieChartType = 'pie';\n    this.pieChartLegend = true;\n    this.pieChartPlugins = [];\n    this.chartColors = [{\n      backgroundColor: ['#FF7360', '#6FC8CE', '#FAFFF2', '#FFFCC4', '#B9E8E0']\n    }];\n    this.productService.getProducts().subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (data) {\n        console.log('prd', data);\n        let totalRate = 0;\n        data.forEach(item => {\n          if (item.rate) {\n            totalRate++;\n          }\n\n          _this.pieChartData = [data.length, totalRate];\n        });\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    monkeyPatchChartJsTooltip();\n    monkeyPatchChartJsLegend();\n  }\n\n  ngOnInit() {}\n\n}\n\nPieChartComponent.ɵfac = function PieChartComponent_Factory(t) {\n  return new (t || PieChartComponent)(i0.ɵɵdirectiveInject(i1.ProductsService));\n};\n\nPieChartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PieChartComponent,\n  selectors: [[\"app-pie-chart\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[2, \"display\", \"block\"], [4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [\"baseChart\", \"\", 3, \"data\", \"labels\", \"chartType\", \"options\", \"plugins\", \"legend\", \"colors\"]],\n  template: function PieChartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, PieChartComponent_ng_container_1_Template, 2, 7, \"ng-container\", 1);\n      i0.ɵɵtemplate(2, PieChartComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(3);\n\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.barChartData.length != 0)(\"ngIfElse\", _r1);\n    }\n  },\n  directives: [i2.NgIf, i3.BaseChartDirective, i4.LoadingComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwaWUtY2hhcnQuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["/home/dev/Development/src/Nubian-Agancy/Client-Side/dashboard/src/app/components/charts/pie-chart/pie-chart.component.ts"],"names":["monkeyPatchChartJsLegend","monkeyPatchChartJsTooltip","i0","i1","i2","i3","i4","PieChartComponent_ng_container_1_Template","rf","ctx","ɵɵelementContainerStart","ɵɵelement","ɵɵelementContainerEnd","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵproperty","pieChartData","pieChartLabels","pieChartType","pieChartOptions","pieChartPlugins","pieChartLegend","chartColors","PieChartComponent_ng_template_2_Template","PieChartComponent","constructor","productService","responsive","backgroundColor","getProducts","subscribe","data","console","log","totalRate","forEach","item","rate","length","ngOnInit","ɵfac","PieChartComponent_Factory","t","ɵɵdirectiveInject","ProductsService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","PieChartComponent_Template","ɵɵelementStart","ɵɵtemplate","ɵɵtemplateRefExtractor","ɵɵelementEnd","_r1","ɵɵreference","barChartData","directives","NgIf","BaseChartDirective","LoadingComponent","styles"],"mappings":"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","sourcesContent":["import { monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip, } from 'ng2-charts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/products/products.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"ng2-charts\";\nimport * as i4 from \"../../../shared/loading/loading.component\";\nfunction PieChartComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"canvas\", 3);\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"data\", ctx_r0.pieChartData)(\"labels\", ctx_r0.pieChartLabels)(\"chartType\", ctx_r0.pieChartType)(\"options\", ctx_r0.pieChartOptions)(\"plugins\", ctx_r0.pieChartPlugins)(\"legend\", ctx_r0.pieChartLegend)(\"colors\", ctx_r0.chartColors);\n} }\nfunction PieChartComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\");\n} }\nexport class PieChartComponent {\n    constructor(productService) {\n        this.productService = productService;\n        this.pieChartOptions = {\n            responsive: true,\n        };\n        this.pieChartLabels = ['Total Product', 'Total Rate'];\n        this.pieChartData = [];\n        this.pieChartType = 'pie';\n        this.pieChartLegend = true;\n        this.pieChartPlugins = [];\n        this.chartColors = [\n            {\n                backgroundColor: ['#FF7360', '#6FC8CE', '#FAFFF2', '#FFFCC4', '#B9E8E0'],\n            },\n        ];\n        this.productService.getProducts().subscribe(async (data) => {\n            console.log('prd', data);\n            let totalRate = 0;\n            data.forEach((item) => {\n                if (item.rate) {\n                    totalRate++;\n                }\n                this.pieChartData = [data.length, totalRate];\n            });\n        });\n        monkeyPatchChartJsTooltip();\n        monkeyPatchChartJsLegend();\n    }\n    ngOnInit() { }\n}\nPieChartComponent.ɵfac = function PieChartComponent_Factory(t) { return new (t || PieChartComponent)(i0.ɵɵdirectiveInject(i1.ProductsService)); };\nPieChartComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PieChartComponent, selectors: [[\"app-pie-chart\"]], decls: 4, vars: 2, consts: [[2, \"display\", \"block\"], [4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [\"baseChart\", \"\", 3, \"data\", \"labels\", \"chartType\", \"options\", \"plugins\", \"legend\", \"colors\"]], template: function PieChartComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, PieChartComponent_ng_container_1_Template, 2, 7, \"ng-container\", 1);\n        i0.ɵɵtemplate(2, PieChartComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        const _r1 = i0.ɵɵreference(3);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.barChartData.length != 0)(\"ngIfElse\", _r1);\n    } }, directives: [i2.NgIf, i3.BaseChartDirective, i4.LoadingComponent], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwaWUtY2hhcnQuY29tcG9uZW50LmNzcyJ9 */\"] });\n"]},"metadata":{},"sourceType":"module"}